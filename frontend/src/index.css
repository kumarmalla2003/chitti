@import "tailwindcss";

@theme {
  /* =========================================
     1. GLOBAL SCALE (ZOOM) TOKEN
     ========================================= */
  /* Desktop/tablet uses standard 16px.
     Mobile (<768px) uses compact 14px (applied via media query in @layer base).
  */
  --text-base-size: 16px;

  /* =========================================
     2. TYPOGRAPHY
     ========================================= */
  /* Font Families */
  --font-heading: serif;
  --font-body: sans-serif;

  /* Semantic Text Sizes 
     NOTE: We use explicit REM values here because theme('fontSize.*') 
     returns a tuple that breaks CSS variables.
  */

  /* Small Text (Matches text-sm) */
  --text-small: 0.875rem;
  --text-small--line-height: 1.25rem;

  /* Body Text (Matches text-base) */
  --text-body-default: 1rem;
  --text-body-default--line-height: 1.5rem;

  /* Display/Headings (Matches text-3xl) */
  --text-display: 1.875rem;
  --text-display--line-height: 2.25rem;

  /* =========================================
     3. SHAPES & SPACING
     ========================================= */
  /* Border Radius */
  --radius-btn: theme("borderRadius.md");
  --radius-card: theme("borderRadius.lg");
  --radius: theme("borderRadius.lg");

  /* Spacing */
  --spacing-layout: theme("spacing.8");
  --spacing-control: theme("spacing.6");

  /* Layout Dimensions */
  --h-header: theme("spacing.16");

  /* =========================================
     4. ICONOGRAPHY
     ========================================= */
  /* Icon Sizes */
  --size-icon-xs: theme("spacing.3");
  /* 0.75rem */
  --size-icon-sm: theme("spacing.4");
  /* 1rem    */
  --size-icon-md: theme("spacing.6");
  /* 1.5rem  */
  --size-icon-lg: theme("spacing.8");
  /* 2rem    */
  --size-icon-xl: theme("spacing.12");
  /* 3rem    */
  --size-icon-2xl: theme("spacing.16");
  /* 4rem    */

  /* =========================================
     5. DEPTH & LAYERING
     ========================================= */
  /* Shadows */
  --shadow-card: theme("boxShadow.md");
  --shadow-floating: theme("boxShadow.lg");
  --shadow-popover: theme("boxShadow.xl");

  /* Base Shadow */
  --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);

  /* Glass Effects */
  --blur-overlay: 4px;

  /* States */
  --opacity-disabled: theme("opacity.50");
  --opacity-hover: theme("opacity.90");

  /* =========================================
     6. COLORS
     ========================================= */
  /* Light Mode */
  --color-background-primary: theme(colors.gray.50);
  --color-background-secondary: theme(colors.gray.200);
  --color-background-tertiary: theme(colors.gray.300);
  --color-text-primary: theme(colors.gray.900);
  --color-text-secondary: theme(colors.gray.700);
  --color-accent-bg: theme(colors.blue.100);
  --color-accent: theme(colors.blue.500);
  --color-accent-hover: theme(colors.blue.600);
  --color-border: theme(colors.gray.400);

  /* State Colors */
  --color-success-bg: theme(colors.green.100);
  --color-success-accent: theme(colors.green.500);
  --color-success-hover: theme(colors.green.600);
  --color-warning-bg: theme(colors.yellow.100);
  --color-warning-accent: theme(colors.yellow.500);
  --color-warning-hover: theme(colors.yellow.600);
  --color-error-bg: theme(colors.red.100);
  --color-error-accent: theme(colors.red.500);
  --color-error-hover: theme(colors.red.600);
  --color-info-bg: theme(colors.blue.100);
  --color-info-accent: theme(colors.blue.500);
  --color-info-hover: theme(colors.blue.600);
}

/* =========================================
   UTILITY CLASSES
   ========================================= */

/* Z-Index Layers */
@utility z-sticky {
  z-index: theme("zIndex.20");
}

@utility z-overlay {
  z-index: theme("zIndex.40");
}

@utility z-modal {
  z-index: theme("zIndex.50");
}

/* Animation Presets */
@utility duration-normal {
  transition-duration: theme("transitionDuration.300");
}

@utility ease-smooth {
  transition-timing-function: theme("transitionTimingFunction.in-out");
}

/* Icon Utilities */
@utility icon-xs {
  width: var(--size-icon-xs);
  height: var(--size-icon-xs);
}

@utility icon-sm {
  width: var(--size-icon-sm);
  height: var(--size-icon-sm);
}

@utility icon-md {
  width: var(--size-icon-md);
  height: var(--size-icon-md);
}

@utility icon-lg {
  width: var(--size-icon-lg);
  height: var(--size-icon-lg);
}

@utility icon-xl {
  width: var(--size-icon-xl);
  height: var(--size-icon-xl);
}

@utility icon-2xl {
  width: var(--size-icon-2xl);
  height: var(--size-icon-2xl);
}

/* =========================================
   DARK MODE OVERRIDES
   ========================================= */
:is([data-theme="dark"]) {
  --color-background-primary: theme(colors.gray.900);
  --color-background-secondary: theme(colors.gray.800);
  --color-background-tertiary: theme(colors.gray.700);
  --color-text-primary: theme(colors.gray.100);
  --color-text-secondary: theme(colors.gray.300);
  --color-accent-bg: theme(colors.blue.200);
  --color-accent: theme(colors.blue.600);
  --color-accent-hover: theme(colors.blue.500);
  --color-border: theme(colors.gray.600);

  --color-success-bg: theme(colors.green.200);
  --color-success-accent: theme(colors.green.600);
  --color-success-hover: theme(colors.green.500);
  --color-warning-bg: theme(colors.yellow.200);
  --color-warning-accent: theme(colors.yellow.600);
  --color-warning-hover: theme(colors.yellow.500);
  --color-error-bg: theme(colors.red.200);
  --color-error-accent: theme(colors.red.600);
  --color-error-hover: theme(colors.red.500);
  --color-info-bg: theme(colors.blue.200);
  --color-info-accent: theme(colors.blue.600);
  --color-info-hover: theme(colors.blue.500);

  input::placeholder,
  textarea::placeholder {
    @apply text-white/35;
  }
}

/* =========================================
   BASE STYLES
   ========================================= */
@layer base {
  html {
    /* APPLIES THE ZOOM EFFECT 
       All rem-based values will scale relative to this.
    */
    font-size: var(--text-base-size);
    scroll-behavior: smooth;
  }

  /* Mobile-only compact zoom (< 768px) */
  @media (max-width: 767px) {
    html {
      font-size: 14px;
    }
  }

  body {
    @apply font-body bg-background-primary text-text-primary;
    @apply transition-colors duration-normal ease-smooth;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading;
  }

  /* Global cursor-pointer for all buttons */
  button,
  [role="button"] {
    cursor: pointer;
  }

  input::placeholder,
  textarea::placeholder {
    @apply text-black/35;
  }

  /* Override browser autofill styles */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active,
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus,
  textarea:-webkit-autofill:active,
  select:-webkit-autofill,
  select:-webkit-autofill:hover,
  select:-webkit-autofill:focus,
  select:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 1000px var(--color-background-secondary) inset !important;
    -webkit-text-fill-color: var(--color-text-primary) !important;
    caret-color: var(--color-text-primary) !important;
    transition: background-color 5000s ease-in-out 0s;
  }
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}